# 项目说明

本项目为[XMind 前端面试作业](https://github.com/xmindltd/hiring/blob/master/frontend-1/README.md)

# 开发环境

- 系统：MacOS
- Node: v12.16.1
- NPM: 6.13.4
- Vue: 4.4.6

# 目录说明

- `XMind-wireframe.pdf`：线框图

# 技术栈选择

- Vue.js
- Vue-Router
- Vuex
- Element

# 开发思路

- 设计线框图：主页，数据添加页，分类添加页，详细统计页
- 代码实现
  - 主页（首要）
  - 数据添加页（首要）
  - 分类添加页（次要）
  - 详细统计页（次要）
- 部署到云上（次要）

# 遇到的问题

### el-upload 组件的排版问题

`el-upload`组件中的按钮无法像单独按钮一样排版，故选择隐藏内部按钮，使用外部按钮调用其 click 方法。

### 动态改变表格内容显示（如显示分类名称而不是 ID）

通过深拷贝生成新的账单数据集，通过操作该数据集改变展示内容而不影响原数据。占用内存增加，但降低数据操作难度和频率。

### 导入数据的功能代码较长，且导入分类和导入账单功能类似

将导入功能封装到自己定义组件 UploadBtn，通过传入自定义 ID 避免调用时的冲突。

# 开发日志

### 2020-06-29 夜里

- 建立 github 仓库
- 编辑 readme
- 设计线框图

### 2020-06-30

- 修改线框图
- 创建 vue 脚手架工程(es6-sass-eslint_standard)
- 配置开发环境（vscode，prettier，eslint 等）

### 2020-07-01

- 线框图主页小部分美化改动（多选框排版，输入按钮布局）
- 开发主页（响应式布局，输入组件，功能按钮）
- 实现上传文件功能
- 实现上传 csv 文件的解析

### 2020-07-2

- 实现导入数据的展示
- 使用 moment 实现时间格式的转换
- 实现对时间数据的提取，将其添加到选择月份的下拉选项中
- 将导入按钮封装为组件，导入分类数据和账单数据可以服用组件
- 修复重复上传时无响应的问题(需要使用 refs 调用`el-upload`的 clearFiles())
- 实现根据选择月份对结果进行过滤
- 计算当前展示数据的总支出和总收入
- 实现切换分类名称和类型名称
